# If still no bytes and Agent returned an HTTP(S) URL, fetch it
if (not audio_data) and isinstance(audio_path, str) and audio_path.startswith(("http://", "https://")):
    try:
        async with httpx.AsyncClient(timeout=settings.AGENT_TIMEOUT) as c:
            r2 = await c.get(audio_path)
        if r2.status_code == 200 and r2.content:
            audio_data = r2.content
        else:
            logger.warning(f"_agent_chat: HTTP fetch failed {audio_path} -> {r2.status_code}")
    except Exception as e:
        logger.warning(f"_agent_chat: HTTP fetch exception for {audio_path}: {e}")
        audio_data = b""
