Traceback (most recent call last):
  File "C:\Users\ypathak1\podcast_generator\lk3.py", line 785, in <module>
    asyncio.run(run_with_saver())
  File "C:\Program Files\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\lk3.py", line 722, in run_with_saver
    a_out = await llm_tool(SYSTEM_A, a_in)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\lk3.py", line 615, in llm_tool
    return await asyncio.to_thread(llm_tool_sync, panel_prompt, msg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\lk3.py", line 605, in llm_tool_sync
    r2 = oai.chat.completions.create(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\.venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\.venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1150, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\.venv\Lib\site-packages\openai\_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ypathak1\podcast_generator\.venv\Lib\site-packages\openai\_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid parameter: messages with role 'tool' must be a response to a preceeding message with 'tool_calls'.", 'type': 'invalid_request_error', 'param': 'messages.[2].role', 'code': None}}
