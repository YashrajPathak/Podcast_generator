<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net">
  <diagram name="Podcast Generator Architecture" id="podcast-arch-pro">
    <mxGraphModel dx="1182" dy="683" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- ENTRY -->
        <mxCell id="A1" value="Entrypoints&#10;- graph.py (CLI)&#10;- lkk.py (CLI)&#10;- lkk.py (FastAPI)" style="swimlane;fillColor=#3b82f6;fontColor=#ffffff;strokeColor=#1e3a8a;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="220" height="120" as="geometry"/>
        </mxCell>

        <!-- CONTEXT -->
        <mxCell id="B1" value="Context Manager&#10;- Choose JSON files&#10;- Load Context&#10;- Infer Topic" style="swimlane;fillColor=#eab308;strokeColor=#713f12;" vertex="1" parent="1">
          <mxGeometry x="300" y="40" width="220" height="120" as="geometry"/>
        </mxCell>

        <!-- ORCHESTRATION -->
        <mxCell id="C1" value="LangGraph Orchestrator&#10;- Build Graph&#10;- Run with Events&#10;- Track State" style="swimlane;fillColor=#16a34a;fontColor=#ffffff;strokeColor=#14532d;" vertex="1" parent="1">
          <mxGeometry x="560" y="40" width="240" height="120" as="geometry"/>
        </mxCell>

        <!-- NODES -->
        <mxCell id="D1" value="Conversation Nodes&#10;- Nexus Intro&#10;- Reco Intro&#10;- Stat Intro&#10;- Topic Intro&#10;- Reco/Stat Turns&#10;- Nexus Outro" style="swimlane;fillColor=#f97316;fontColor=#ffffff;strokeColor=#7c2d12;" vertex="1" parent="1">
          <mxGeometry x="840" y="40" width="260" height="160" as="geometry"/>
        </mxCell>

        <!-- ENGINE -->
        <mxCell id="E1" value="Podcast Engine (lkk.py)&#10;- LLM (Azure OpenAI)&#10;- Textâ†’SSML&#10;- Azure TTS Synth&#10;- Master Writer" style="swimlane;fillColor=#06b6d4;fontColor=#ffffff;strokeColor=#164e63;" vertex="1" parent="1">
          <mxGeometry x="1140" y="40" width="260" height="160" as="geometry"/>
        </mxCell>

        <!-- OUTPUTS -->
        <mxCell id="F1" value="Outputs&#10;- Final Audio (WAV)&#10;- Transcript (TXT)&#10;- Graph & Timeline&#10;- Visualization (HTML)" style="swimlane;fillColor=#84cc16;strokeColor=#000000;strokeColor=#3f6212;" vertex="1" parent="1">
          <mxGeometry x="1440" y="40" width="260" height="160" as="geometry"/>
        </mxCell>

        <!-- ARROWS -->
        <mxCell id="edge1" edge="1" parent="1" source="A1" target="B1" style="endArrow=block;strokeColor=#000000;"/>
        <mxCell id="edge2" edge="1" parent="1" source="B1" target="C1" style="endArrow=block;strokeColor=#000000;"/>
        <mxCell id="edge3" edge="1" parent="1" source="C1" target="D1" style="endArrow=block;strokeColor=#000000;"/>
        <mxCell id="edge4" edge="1" parent="1" source="D1" target="E1" style="endArrow=block;strokeColor=#000000;"/>
        <mxCell id="edge5" edge="1" parent="1" source="E1" target="F1" style="endArrow=block;strokeColor=#000000;"/>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
